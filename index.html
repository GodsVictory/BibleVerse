<html>
<head>
<title>BibleVerse</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' name='viewport' />
<meta name="viewport" content="width=device-width" />
<link href='https://fonts.googleapis.com/css?family=Fredoka+One' rel='stylesheet' type='text/css'>
<script src="jquery-3.1.0.min.js"></script>
<script src="clipboard.min.js"></script>
<script>
function resize() {
  if ($(document).ready())
    $("#verse").css("font-size", ($(document).height() + $(document).width()) * .025);
}
$(document).ready(function() {
  $("#verse").css("font-size", ($(document).height() + $(document).width()) * .025);
  $.getJSON('web.json', function(bible) {
    var max = 66;
    var min = 1;
    var book = Math.floor(Math.random() * (max - min + 1)) + min;
    
    var max = Object.keys(bible.version[book].book).length;
    var min = 1;
    var chapter = Math.floor(Math.random() * (max - min + 1)) + min;
    
    var max = Object.keys(bible.version[book].book[chapter].chapter).length;
    var min = 1;
    var verse = Math.floor(Math.random() * (max - min + 1)) + min;
    
    var chosen = bible.version[book].book[chapter].chapter[verse].verse;
    var reference = bible.version[book].book_name + " " + chapter + ":" + verse;
    
    console.log(chosen);
    console.log(reference);

    $('#verse').html(chosen + "<br /><br />" + reference);
    new Clipboard('#verse', {
      target: function(trigger) {
        setTimeout(function(){document.getSelection().removeAllRanges();},150);
        $(trigger).css("color", "grey");
        setTimeout(function(){$(trigger).css("color", "white")},200);
        return trigger;
      }
    });
  });
});
</script>
<style>
::selection {
  background: black;
}
::-moz-selection {
  background: black;
}
body {
  position:relative;
  background-color:black;
  color:white;
  font-family:Fredoka One;
  text-align:center;
  padding:10px 20% 10px 20%
}
</style>
</head>
<body onresize="resize()">
<p id="verse"></p>
</body>
</html>